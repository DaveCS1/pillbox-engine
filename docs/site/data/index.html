<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Data - Pillbox Engine</title>
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">

  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script>

  <style>
    body {font-size: 90%;}
    pre, code {font-size: 100%;}
    h3, h4, h5, h6 {color: #2980b9; font-weight: 300}
  </style> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Pillbox Engine</a>
        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
      <ul class="current">
    
        
        <span>Setup</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../install">Installation Guide</a>
                    
                </li>
            
        

    
        
        <span>Usage</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../usage/start">Start the App</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../usage/tasks">Tasks</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../usage/download">Download</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../usage/spl">SPL</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../usage/pillbox">Pillbox</a>
                    
                </li>
            
        

    
        
        <span>More Info</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../about">About</a>
                    
                </li>
            
                <li class="toctree-l1 current">
                    <a class="current" href=".">Data</a>
                    
                        <ul>
                        
                            <li class="toctree-l2"><a href="#overview">Overview</a></li>
                            
                                <li><a class="toctree-l3" href="#data-changes-and-transparency">Data changes and transparency</a></li>
                            
                                <li><a class="toctree-l3" href="#identification-of-data-errors-and-discrepancies">Identification of data errors and discrepancies</a></li>
                            
                                <li><a class="toctree-l3" href="#three-unique-problems">Three unique problems</a></li>
                            
                                <li><a class="toctree-l3" href="#visually-identifying-data-issues">Visually identifying data issues</a></li>
                            
                                <li><a class="toctree-l3" href="#algorithmically-identifying-data-issues">Algorithmically identifying data issues</a></li>
                            
                                <li><a class="toctree-l3" href="#other-techniques-for-identifying-issues-in-the-data">Other techniques for identifying issues in the data</a></li>
                            
                        
                        </ul>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../terms">Terms of Service</a>
                    
                </li>
            
        

    
</ul>

      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="icon icon-reorder"></i>
        <a href=".."></a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    <li>Data</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              <h2 id="overview">Overview</h2>
<p>Many developers new to working with medication-related data are unaware of potential errors and discrepancies within the data.  This document provides an overview of many issues present in the Pillbox data set.  It is intended as an educational resource to 1) help developers better understand the data, and 2) illustrate the scope and limitations of working with this data, which is critical when creating applications that identify unknown medication or provide information to clinicians, patients, and others.</p>
<p>It is also intended to be a starting point for discussion and further exploration of this data with the goal of improving downstream utilization by a growing community of innovative individuals and groups seeking to solve challenges related to not only medication identification and reference, but across health care.</p>
<p>This report is not intended to definitively confirm the presence of an error in Structured Product Labeling data supplied by a submitting firm.  Rather, it highlights potential errors, discrepancies, and data of interest based on analysis of data outlying expected parameters.  It is not intended to be comprehensive.</p>
<p>Pillbox’s data is derived from the Structured Product Labeling, obtained via NLM’s DailyMed and NLM’s RxNorm, a normalized naming system for generic and branded drugs.</p>
<h3 id="data-changes-and-transparency">Data changes and transparency</h3>
<p>Because changes are now being made to the data based on comparison of pill images to the physical characteristics data, every effort is being made to be as transparent as possible about this process.  This includes making a table of all changes made to data available for download, web pages which list every change made along with the image used for comparison, and this document which defines the scope and methodology used to make these changes.</p>
<p>The scope of these changes is not intended to be complete.  In situations where ambiguity exists the original data is not modified.  For records where there is no image available, it is not possible to verify the physical characteristics data.</p>
<p>Data changes in Pillbox do not affect the master data derived from the drug labels, available via DailyMed.</p>
<h3 id="identification-of-data-errors-and-discrepancies">Identification of data errors and discrepancies</h3>
<p>Errors or discrepancies in Pillbox's data can be identified either visually (comparing pill images to data) or algorithmically (querying data based on logical assumptions about the data).</p>
<p>To the best of the Pillbox team's knowledge, no federal agency reviews the physical characteristics data for pills.  It is our hope that Pillbox (and the pill images produced through the project) will be a catalyst for the development of manual or automated validation systems for these data and improvement in the overall accuracy of these data.</p>
<h3 id="three-unique-problems">Three unique problems</h3>
<h4 id="re-labeling-and-re-distribution">Re-labeling and re-distribution</h4>
<p>A unique type of discrepancy can occur when a pill is marketed by more than one company.  Company A may manufacture and market a drug.  They may also allow other companies to distribute and market that same drug.  Each company must submit a separate drug label and that same pill will have a different National Drug Code (NDC) in that label.  Some distribution chains may be quite large.  The small, brown, 200 mg ibuprofen, that has an imprint of "I2" for example, is distributed under almost 80 different NDCs and labels.</p>
<p>An upcoming data release of Pillbox will group pills by physical characteristics, ingredients and strength, and other criteria so that each unique pill has only one record.  In practice there may not be possible as some label authors have changed one or more of the physical characteristics or other data from the source label.</p>
<p>The benefits of organizing pills by original manufactured products extend beyond simplifying identification and improving user experience.  If an issue, such as contamination, should ever be occur with a medication, identifying all distribution points for that medication is critical for public safety.  Developers should have easy access to that information.</p>
<h4 id="manufacturers-changing-the-appearance-of-a-pill">Manufacturers changing the appearance of a pill</h4>
<p>FDA guidance requires (citation needed) that if the physical characteristics of a pill change, then that product requires a new NDC.  The most common change made to a pill is the imprint.  When a manufacturer changes the physical characteristics of a pill and does not apply for a new NDC, it creates a conflict in presenting the data, especially if there is an image for the pill.</p>
<p>For example, Company A has a pill with an imprint "123 10".  They then change the imprint to "A 10".  For a certain time, both pills will be available.  If the imprint in the image differs from the data, it may be difficult to determine if the imprint data is 1) incorrect or 2) the imprint has changed but the original NDC was kept.  Also, if both pills are present in the market, there should be two separate records as users could be trying to identify either pill.</p>
<h4 id="identifying-pills-that-are-no-longer-marketed">Identifying pills that are no longer marketed</h4>
<p>Pillbox was not designed to be an archival resource.  It was intended to reflect the current information available via its sources.  The data process which creates Pillbox takes current data from DailyMed and RxNorm and parses individual products (pills).  Cases exist however where a user is trying to identify an older medication, stored for years in a medicine cabinet.  In disaster response situations, medications which are past the expiration date may be used if certain criteria are met and tests show the medications have retained their potency.</p>
<p>This issue will also be addressed by the upcoming data release will pills will be grouped by physical characteristics.  It has yet to be determined how far back in time to go, looking for unique pills.  Also, without images it will be difficult to verify the accuracy of the physical characteristics used to group the pills.  This will results is a greater number of groups, with some groups being created based on inaccurate data.  Groupings based on accurate data will be unaffected.</p>
<h3 id="visually-identifying-data-issues">Visually identifying data issues</h3>
<p>FDA publishes guidance for coding the physical characteristics (imprint, color, shape, size, score) of pills.  Based on a review of the 2,159 images available via Pillbox as of July 2013, changes were made to the physical characteristics data of approximately 17% (359) of records for which there was an image.</p>
<p>As Pillbox increases the number of standardized, high quality images available, those images will be compared to data for each product to ensure physical characteristics (imprint, color, shape, size, score) data match the images.  While many of these errors are more easily identified than others (a round pill listed as square), some criteria are more subjective or nuanced.</p>
<p>Where data is modified, the goals are to improve search results without introducing ambiguity and to accurately represent the text that appears on a pill.  All changes made to the data are listed in the trade_dress_change_log table.</p>
<h4 id="imprint">Imprint</h4>
<p>Before continuing, you should read the FDA form and submission requirements for "imprint":http://www.fda.gov/Drugs/DevelopmentApprovalProcess/FormsSubmissionRequirements/ElectronicSubmissions/DataStandardsManualmonographs/ucm071810.htm.</p>
<p>Imprint is perhaps the single best identifier for a pill and presents challenges when developing search logic.  While relatively few errors of commission (typographic errors) have been found in the data based on a comparison to available pill images, a number of other factors are present.</p>
<p>Issues encountered:
<em> Company or drug names are sometimes omitted from the imprint data.
</em> Descriptive text is included in the imprint value (ex: "A;10;company logo")
<em> Imprint has been changed by the manufacturer
</em> Some imprint values are formatted inconsistently in a way that may affect search results</p>
<p>Additional rules:
<em> Trailing semi-colons in the data are removed (ex: "A;10;" changed to "A;10")
</em> Dashes, decimal points, slashes and spaces are replaced with semi-colons
<em> Stylized single letters (which often appear on pills) are entered as part of the imprint value
</em> Text that appears on separate line or is separated by a score line is separated in the imprint value by semi-colons
<em> If text is repeated on an pill (ex: a scored pill with the number 10 on both sides or a pill with the letter A appearing multiple times around the edge of a pill) it is entered as separate text.  This will increase the likelihood of an exact match while not interfering with search strings that only include one iteration of repeated text and errs on the side of an accurate representation of the look of the pill.
</em> Text the crosses itself (ex: BAYER written vertically and horizontally, crossing at the Y) is entered as separate values, separated by a semi-colon.</p>
<p>One additional area of concern related to imprint values are characters which look similar.  Text on a pill is often small and the various imprinting processes may render text that is difficult to read.  Users may not be able to accurately identify a character in situations like these.</p>
<ul>
<li>lower-case L vs the number one (1)</li>
<li>Upper-case O vs the number zero (0)</li>
</ul>
<h4 id="color">Color</h4>
<p>Before continuing, you should read the FDA form and submission requirements for "color":http://www.fda.gov/Drugs/DevelopmentApprovalProcess/FormsSubmissionRequirements/ElectronicSubmissions/DataStandardsManualmonographs/ucm071794.htm.</p>
<p>Color is the most subjective of the physical characteristics, however it is one of the most likely to be used by an individual describing a pill.  Existing guidance specifies RGB values for each of the 12 colors.  Color perception varies greatly among individuals and is subject to ambient lighting conditions (indoor fluorescent and incandescent light sources, sunlight, reflected light, etc.).  As such, similarly colored pills may be listed as a variety of similar colors, such as red/orange/brown or blue/turquoise/green.</p>
<p>Issues encountered:
* Pills listed as a color that is obviously different from the predominant color present in the image.  In these situations the color value was changed to that of the predominant color.  The new color is subject to the subjectivity described previously.</p>
<p>Additional rules:
<em> Though the guidance specifies that there should be only one value present for color, it is common to see two colors listed.  This practice is upheld in Pillbox's data.
</em> For pills that have more than one distinct color (a capsule with a pink cap and white base), the secondary color is added.
<em> If the labeler lists a single color and the pill could also be described by a second color, that color may be added.
</em> When more than one color is listed, if there is a predominant color (such as a yellow pill with a small white section in the middle) the predominant color is listed first.  This provides the potential to enhance search and more accurately describe the pill without negatively affecting search results.
* Double color listings (ex: white/white) were change to a single value of that color.</p>
<p>The NLM Pillbox SPLIMAGE pill image specification creates images under standardized lighting conditions.  It is hoped that these images will lead to development of an automated system to accurately define the predominant color of a pill and create a pallet of colors that is representative of the colors present.</p>
<h4 id="shape">Shape</h4>
<p>Before continuing, you should read the FDA form and submission requirements for "shape":http://www.fda.gov/Drugs/DevelopmentApprovalProcess/FormsSubmissionRequirements/ElectronicSubmissions/DataStandardsManualmonographs/ucm071802.htm.</p>
<p>The guidance for shape have two specific nuances that may not be obvious.  First, when dealing with multi-sided shapes, such as pentagons (5-sided) or hexagons (6-sided), the sides do not need to be equal in length.  Also, sides do no need to be straight.  Thus a</p>
<p>Issues encountered:
<em> Shapes listed as freeform that are actually multi-sided shapes
</em> Capsules (two-part capsules) listed as oval.
* Oval tablets listed as capsule.  Even if the medication name includes the word "capsule" if it is not a two-part capsules and banded two-part capsule it should be listed as oval.</p>
<h4 id="size">Size</h4>
<p>Before continuing, you should read the FDA form and submission requirements for "size":http://www.fda.gov/Drugs/DevelopmentApprovalProcess/FormsSubmissionRequirements/ElectronicSubmissions/DataStandardsManualmonographs/ucm071800.htm.</p>
<p>Without having a pill to measure it is difficult to identify inaccuracies in the size values.  The NLM Pillbox SPLIMAGE pill image specification includes a ruler in the image.  Some size values however are present.</p>
<p>Issues encountered:
* Pills which size value differs from the ruler present in the image.</p>
<p>Additional rules:
* If the size as measured in an SPLIMAGE spec image varies by more than 2 mm from the size value provided, it is changed to match the value as measured in the image.</p>
<h4 id="score">Score</h4>
<p>Before continuing, you should read the FDA form and submission requirements for "score":http://www.fda.gov/Drugs/DevelopmentApprovalProcess/FormsSubmissionRequirements/ElectronicSubmissions/DataStandardsManualmonographs/ucm071805.htm.</p>
<p>Issues encountered:
<em> Incorrect score values entered
</em> Pills with different score values on either side
<em> Though the guidance states score refers to the pill being broken into "equal sized pieces" there exists a pill that is scored to be broken into unequal sized pieces (different dosages)
</em> Some score lines are faint or only present near the edges of the pill (not a continuous line across the pill)</p>
<p>Additional rules:
* When a pill is scored differently on either side (one side can be divided into two pieces, the other side can be divided into three pieces), the higher score value is entered.  This is consistent with the one known example.</p>
<h3 id="algorithmically-identifying-data-issues">Algorithmically identifying data issues</h3>
<p>Logical assumptions about the data and relationships between data can identify potential issues.  These issues are not addressed in Pillbox's data unless there is an image present.</p>
<h4 id="null-values">NULL values</h4>
<p>On occasion, certain values in the data are NULL.</p>
<h4 id="capsules-with-score-1">Capsules with score = 1</h4>
<h4 id="size-outliers">Size outliers</h4>
<ul>
<li>Pills with extremely large (30+ mm) or small (0 or 1 mm) size values</li>
</ul>
<h4 id="size-with-a-decimal-point">Size with a decimal point</h4>
<h4 id="pills-listed-a-remainder">Pills listed a REMAINDER</h4>
<h4 id="dea-schedule-is-null">DEA schedule is NULL</h4>
<p>NULL is a valid value for DEA schedule.  It implies that the drug is not scheduled.  However, when you see a NULL value you cannot definitively know if the drug is not scheduled or the labeler forgot to list the value.  There are records for drugs that are on the DEA schedule but some of the records lists the DEA schedule as NULL.</p>
<h4 id="duplicate-records">Duplicate records</h4>
<h3 id="other-techniques-for-identifying-issues-in-the-data">Other techniques for identifying issues in the data</h3>
<h4 id="data-which-is-not-normalized-inactive-ingredients-author">Data which is not normalized (inactive ingredients, author)</h4>
<h4 id="comparison-of-records-believed-to-be-redistributed-products">Comparison of records believed to be redistributed products</h4>
<h4 id="faceting-via-openrefine">Faceting via OpenRefine</h4>

            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../terms" class="btn btn-neutral float-right" title="Terms of Service"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../about" class="btn btn-neutral" title="About"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
    <!-- Copyright etc -->
    </p>
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
        
      <span><a href="../about" style="color: #fcfcfc;">&laquo; Previous</a></span>
      <span style="margin-left: 15px"><a href="../terms" style="color: #fcfcfc">Next &raquo;</a></span>
    </span>
</div>
</body>
</html>